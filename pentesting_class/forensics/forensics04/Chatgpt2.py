import sys

def reverse_endianness(input_file, output_file, byte_size=4):
    try:
        with open(input_file, "rb") as infile, open(output_file, "wb") as outfile:
            while True:
                # Read 'byte_size' bytes at a time (e.g., 4 bytes for 32-bit values)
                chunk = infile.read(4)
                if not chunk:
                    break
                # Reverse the byte order of the chunk
                reversed_chunk = chunk[::-1]
                # Write the reversed chunk to the output file
                outfile.write(reversed_chunk)

        print(f"Endianness reversed and output written to '{output_file}'.")
    except Exception as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Usage: python reverse_endianness.py <input_file> <output_file>")
    else:
        reverse_endianness(sys.argv[1], sys.argv[2])

